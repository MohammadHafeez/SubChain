@model IEnumerable<P2_SubChain.Models.Users>
@{
    ViewBag.Title = "Communication";
}

<header>
    <img src="~/images/logo.svg" alt="" />
    <div class="burger">
        <div class="bar1"></div>
        <div class="bar2"></div>
        <div class="bar3"></div>
    </div>
    <nav class="cust__nav">
        <ul>
            <li><a href="~/Supplier/Index">Home</a></li>
            <li><a href="~/Supplier/Create">New Product</a></li>
            <li><a href="~/Invoice/Create">Invoice</a></li>
            <li><a href="~/Supplier/Communication">Communication</a></li>
            <li><a href="~/Home/SignOut">Sign Out</a></li>
        </ul>
    </nav>
</header>

<main class="communicate">
    @{
        if (Model.Count() == 0)
        {
            <h2>No Contacts to communicate with</h2>
        }
        else
        {
            <h2>Here are a list of contacts</h2>
            <table>
                <tr>
                    <th></th>
                    <th>Company Name</th>
                    <th>Company Type</th>
                    <th>Email</th>
                    <th></th>
                </tr>
                @{
                    foreach (Users u in Model)
                    {
                        <tr>
                            <td>
                                <img src="~/images/user.svg" class="avatar" />
                            </td>
                            <td>@u.CompanyName</td>
                            <td>@u.CompanyType</td>
                            <td>@u.Email</td>
                            <td>
                                <a asp-controller="Supplier" asp-action="Chat" asp-route-id="@u.UserId">
                                    Communicate
                                    <img src="~/images/arrow-right.svg" />
                                </a>
                            </td>
                        </tr>
                    }
                }
            </table>
        }
    }
</main>